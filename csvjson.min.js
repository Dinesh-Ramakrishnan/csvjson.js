/**
 * csvjson.js - A script to convert between CSV and JSON formats
 * Author: Aaron Snoswell (@aaronsnoswell, elucidatedbianry.com)
 */

var csvjson={};
(function(){function j(c){if(typeof c=="undefined")return!1;return!0}csvjson.csv2json=function(c,b){var b=b||{},h=j(b.delim)?b.delim:",",e=j(b.textdelim)?b.textdelim:"",a=c.split("\n"),f=a[0].replace(RegExp(e,"g"),"").split(h),a=a.slice(1,a.length),d={};d.headers=f;d.rows=[];for(var k in a){var i=a[k].split(h),m={},l;for(l in i){var g=i[l];e.length!==0&&(g=g.replace(RegExp(e,"g"),""));g.indexOf(" ")==-1&&!isNaN(parseFloat(g))&&(g=parseFloat(g));m[f[l]]=g}d.rows.push(m)}return d};csvjson.json2csv=function(c,
b){var b=b||{},h=j(b.delim)?b.delim:",",e=j(b.textdelim)?b.textdelim:"";if(typeof c=="string")return null;var a="",f;for(f in c.headers){var d=c.headers[f];a+=e+d+e+h}a=a.slice(0,a.length-1);a+="\n";for(var k in c.rows){var i=c.rows[k];for(f in c.headers)d=c.headers[f],a+=typeof i[d]=="string"?e+i[d]+e+h:i[d]+h;a=a.slice(0,a.length-1);a+="\n"}return a=a.slice(0,a.length-1)}})();
