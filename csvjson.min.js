/**
 * csvjson.js - A script to convert between CSV and JSON formats
 * Author: Aaron Snoswell (@aaronsnoswell, www.elucidatedbianry.com)
 */

var csvjson={};
(function(){function j(c){if(typeof c=="undefined")return!1;return!0}csvjson.csv2json=function(c,b){var b=b||{},g=j(b.delim)?b.delim:",",e=j(b.textdelim)?b.textdelim:"",a=c.split("\n"),f=a[0].split(g),a=a.slice(1,a.length),d={};d.headers=f;d.rows=[];for(var k in a){var h=a[k].split(g),m={},l;for(l in h){var i=h[l];e.length!==0&&i.replace(e,"");i.indexOf(" ")==-1&&!isNaN(parseFloat(i))&&(i=parseFloat(i));m[f[l]]=i}d.rows.push(m)}return d};csvjson.json2csv=function(c,b){var b=b||{},g=j(b.delim)?b.delim:
",",e=j(b.textdelim)?b.textdelim:"";if(typeof c=="string")return null;var a="",f;for(f in c.headers){var d=c.headers[f];a+=e+d+e+g}a=a.slice(0,a.length-1);a+="\n";for(var k in c.rows){var h=c.rows[k];for(f in c.headers)d=c.headers[f],a+=typeof h[d]=="string"?e+h[d]+e+g:h[d]+g;a=a.slice(0,a.length-1);a+="\n"}return a=a.slice(0,a.length-1)}})();
